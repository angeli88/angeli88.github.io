<!DOCTYPE html>
<html lang="en-us">
    <head><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content='本文主要介绍ubuntu18.04如何配置使用虚拟显示器，并进行远程连接'><title>ubuntu18.04 使用虚拟显示器</title>

<link rel='canonical' href='https://angeli88.github.io/posts/ubuntu/virtualdisplay/'>

<link rel="stylesheet" href="/scss/style.min.css"><meta property='og:title' content='ubuntu18.04 使用虚拟显示器'>
<meta property='og:description' content='本文主要介绍ubuntu18.04如何配置使用虚拟显示器，并进行远程连接'>
<meta property='og:url' content='https://angeli88.github.io/posts/ubuntu/virtualdisplay/'>
<meta property='og:site_name' content='Angeli88 Blog'>
<meta property='og:type' content='article'><meta property='article:section' content='Posts' /><meta property='article:published_time' content='2021-04-20T19:48:43&#43;08:00'/><meta property='article:modified_time' content='2021-04-20T19:48:43&#43;08:00'/>
<meta name="twitter:title" content="ubuntu18.04 使用虚拟显示器">
<meta name="twitter:description" content="本文主要介绍ubuntu18.04如何配置使用虚拟显示器，并进行远程连接">
    </head>
    <body class="article-page keep-sidebar">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "auto");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.body.dataset.scheme = 'dark';
        } else {
            document.body.dataset.scheme = 'light';
        }
    })();
</script><div class="container main-container flex on-phone--column extended ">
            <aside class="sidebar left-sidebar sticky">
    <button class="hamburger hamburger--spin" type="button" id="toggle-menu" aria-label="切换菜单">
        <span class="hamburger-box">
            <span class="hamburger-inner"></span>
        </span>
    </button>

    <header class="site-info">
        
            <figure class="site-avatar">
                
                    
                    
                    
                        
                        <img src="/img/miao_hue849df477db46d3bc1d8270545dc5cae_55341_300x0_resize_q75_box.jpg" width="300"
                            height="300" class="site-logo" loading="lazy" alt="Avatar">
                    
                

                
                    <span class="emoji">🍥</span>
                
            </figure>
        
        <h1 class="site-name"><a href="https://angeli88.github.io/">Angeli88 Blog</a></h1>
        <h2 class="site-description">努力把一些过程记录下来，努力生活。</h2>
    </header>

    <ol class="menu" id="main-menu">
        
        
        

        <li >
            <a href='/'>
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <polyline points="5 12 3 12 12 3 21 12 19 12" />
  <path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7" />
  <path d="M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6" />
</svg>



                
                <span>首页</span>
            </a>
        </li>
        
        

        <li >
            <a href='/%E5%85%B3%E4%BA%8E/'>
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="7" r="4" />
  <path d="M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2" />
</svg>



                
                <span>关于</span>
            </a>
        </li>
        
        

        <li >
            <a href='/archives/'>
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <rect x="3" y="4" width="18" height="4" rx="2" />
  <path d="M5 8v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-10" />
  <line x1="10" y1="12" x2="14" y2="12" />
</svg>



                
                <span>归档</span>
            </a>
        </li>
        
        

        <li >
            <a href='/search/'>
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="10" cy="10" r="7" />
  <line x1="21" y1="21" x2="15" y2="15" />
</svg>



                
                <span>搜索</span>
            </a>
        </li>
        

        
            <li id="dark-mode-toggle">
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="8" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="16" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                <span>暗色模式</span>
            </li>
        
    </ol>
</aside>

            <main class="main full-width">
    <article class="main-article">
    <header class="article-header">

    <div class="article-details">
    
    <header class="article-category">
        
            <a href="/categories/ubuntu/" >
                ubuntu
            </a>
        
    </header>
    

    <h2 class="article-title">
        <a href="/posts/ubuntu/virtualdisplay/">ubuntu18.04 使用虚拟显示器</a>
    </h2>

    
    <h3 class="article-subtitle">
        本文主要介绍ubuntu18.04如何配置使用虚拟显示器，并进行远程连接
    </h3>
    <footer class="article-time">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



        <time class="article-time--published">Apr 20, 2021</time>
    </footer></div>
</header>

    <section class="article-content">
    <h2 id="遇到问题">遇到问题</h2>
<p>远程电脑显示器关闭后，重启电脑，teamviewer连接会显示黑屏。</p>
<h2 id="解决方法">解决方法</h2>
<h3 id="主机情况">主机情况</h3>
<p>系统：Ubuntu 18.04</p>
<p>显卡：Intel核显</p>
<h3 id="安装软件">安装软件</h3>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash"><span class="c1"># 因为ubuntu版本为18.04，故安装18.04版本的软件</span>
<span class="c1"># 可用sudo apt search 软件名搜索所有版本，选择与系统相应的版本即可</span>
sudo apt install  xserver-xorg-core-hwe-18.04
sudo apt install  xserver-xorg-video-dummy-hwe-18.04  --fix-missing
</code></pre></div><h3 id="修改配置文件会默认使用虚拟显示器">修改配置文件(会默认使用虚拟显示器)</h3>
<p>配置文件为<code>/usr/share/X11/xorg.conf.d/xorg.conf</code>,修改文件内容如下：</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">Section <span class="s2">&#34;Monitor&#34;</span>
  Identifier <span class="s2">&#34;Monitor0&#34;</span>
  HorizSync 28.0-80.0
  VertRefresh 48.0-75.0
  <span class="c1"># https://arachnoid.com/modelines/</span>
  <span class="c1"># 1920x1080 @ 60.00 Hz (GTF) hsync: 67.08 kHz; pclk: 172.80 MHz</span>
  Modeline <span class="s2">&#34;1920x1080_60.00&#34;</span> 172.80 <span class="m">1920</span> <span class="m">2040</span> <span class="m">2248</span> <span class="m">2576</span> <span class="m">1080</span> <span class="m">1081</span> <span class="m">1084</span> <span class="m">1118</span> -HSync +Vsync
EndSection

Section <span class="s2">&#34;Device&#34;</span>
  Identifier <span class="s2">&#34;Card0&#34;</span>
  Driver <span class="s2">&#34;dummy&#34;</span>
  VideoRam <span class="m">256000</span>
EndSection

Section <span class="s2">&#34;Screen&#34;</span>
  DefaultDepth <span class="m">24</span>
  Identifier <span class="s2">&#34;Screen0&#34;</span>
  Device <span class="s2">&#34;Card0&#34;</span>
  Monitor <span class="s2">&#34;Monitor0&#34;</span>
  SubSection <span class="s2">&#34;Display&#34;</span>
    Depth <span class="m">24</span>
    Modes <span class="s2">&#34;1920x1080_60.00&#34;</span>
  EndSubSection
EndSection
</code></pre></div><p>保存后<strong>重启系统</strong>即可，使用teamviewer连接就可以看到图形界面了。</p>
<h3 id="查看显示器信息">查看显示器信息</h3>
<p>输入 <code>xranr</code>命令即可查看。</p>
<p>显示器信息如下所示：</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">xrandr: Failed to get size of gamma <span class="k">for</span> output default
Screen 0: minimum <span class="m">320</span> x 240, current <span class="m">1920</span> x 1080, maximum <span class="m">1920</span> x <span class="m">1080</span>
default connected primary 1920x1080+0+0 0mm x 0mm
   1920x1080     60.00*
   1680x1050     70.00    60.00
   1400x1050     70.00    60.00
   1600x900      60.00
   1280x1024     75.00    60.00
   1440x900      60.00
   1400x900      60.00
   1280x960      60.00
   1368x768      60.00
   1360x768      60.00
   1280x800      60.00
   1152x864      75.00    70.00    60.00
   1280x720      60.00
   1024x768      75.00    70.00    60.00
   1024x576      60.00
   960x600       60.00
   832x624       75.00
   960x540       60.00
   800x600       75.00    72.00    60.00    56.00
   840x525       70.00    60.00
   864x486       60.00
   700x525       70.00    60.00
   800x450       60.00
   640x512       75.00    60.00
   720x450       60.00
   700x450       60.00
   640x480       75.00    73.00    60.00
   684x384       60.00
   680x384       60.00
   640x400       60.00
   576x432       75.00    70.00    60.00
   640x360       60.00
   512x384       75.00    70.00    60.00
   512x288       60.00
   416x312       75.00
   480x270       60.00
   400x300       75.00    72.00    60.00    56.00
   432x243       60.00
   320x240       75.00    73.00    60.00
</code></pre></div><blockquote>
<p><strong>注意事项</strong></p>
<p>&ldquo;cannot open display&quot;报错：export DISPLAY=:0.0即可</p>
</blockquote>

</section>


    <footer class="article-footer">
    

    </footer>

    
        <link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css"integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3&#43;Aro6EYUG4&#43;cU&#43;KJWu/X"crossorigin="anonymous"
            ><script 
                src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.js"integrity="sha384-g7c&#43;Jr9ZivxKLnZTDUhnkOnsh30B4H0rpLUpJ4jAIKs4fnJI&#43;sEnkvrMWph2EDg4"crossorigin="anonymous"
                defer="true"
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/contrib/auto-render.min.js"integrity="sha384-mll67QQFJfxn0IYznZYonOWZ644AWYC&#43;Pt2cHqMaRhXVrursRwvLnLaebdGIlYNa"crossorigin="anonymous"
                defer="true"
                >
            </script><script>
    window.addEventListener("DOMContentLoaded", () => {
        renderMathInElement(document.querySelector(`.article-content`), {
            delimiters: [
                { left: "$$", right: "$$", display: true },
                { left: "$", right: "$", display: false },
                { left: "\\(", right: "\\)", display: false },
                { left: "\\[", right: "\\]", display: true }
            ]
        });})
</script>
    
</article>

     
        
    

    <footer class="site-footer">
    <section class="copyright">
        &copy; 
        
            2020 - 
        
        2021 Angeli88 Blog
    </section>
    
    <section class="powerby">
        Built with <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> <br />
        Theme <b><a href="https://github.com/CaiJimmy/hugo-theme-stack" target="_blank" rel="noopener" data-version="2.3.0">Stack</a></b> designed by <a href="https://jimmycai.com" target="_blank" rel="noopener">Jimmy</a>
    </section>
</footer>

    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer="true"
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer="true"
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.css"integrity="sha256-c0uckgykQ9v5k&#43;IqViZOZKc47Jn7KQil4/MP3ySA3F8="crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.css"integrity="sha256-SBLU4vv6CA6lHsZ1XyTdhyjJxCjPif/TRkjnsyGAGnE="crossorigin="anonymous"
            >

            </main>
        </div>
        <script 
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.5/dist/vibrant.min.js"integrity="sha256-5NovOZc4iwiAWTYIFiIM7DxKUXKWvpVEuMEPLzcm5/g="crossorigin="anonymous"
                defer="false"
                >
            </script><script type="text/javascript" src="/ts/main.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>

    </body>
</html>
